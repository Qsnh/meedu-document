---
title: '2024年Q3'
---

## 更新统计

| 新增 | 优化 | 修复 |
| --- | --- | --- |
| `36项` | `17项` | `10项` |

## 更新内容

### `service-api`

- 新增:创建iOS的IAP支付订单接口
- 新增:阿里云点播域名配置
- 新增:阿里云点播播放域名`key`自动化配置
- 新增:阿里云点播播放域名的跨域配置自动化配置
- 新增:阿里云点播回调自动化配置
- 新增:腾讯云点播域名配置
- 新增:腾讯云点播播放域名`key`自动化配置
- 新增:腾讯云点播回调自动化配置
- 新增:腾讯云直播水印配置
- 新增:腾讯云直播转码模板(超清|高清)
- 新增:腾讯云推流域名`key`自动配置
- 新增:腾讯云播流域名`key`自动配置
- 新增:腾讯云播流域名`https`必须配置的检查
- 新增:腾讯云播流域名的`referer`自动配置
- 新增:腾讯云的直播回调自动配置(包含录制回调|推流回调|断流回调等)
- 新增:阿里云直播水印
- 新增:阿里云直播转码(超清|高清)
- 新增:阿里云录制模板
- 新增:阿里云推流域名和播流域名的自动关联
- 新增:阿里云推流域名key自动配置
- 新增:阿里云播流域名key自动配置
- 新增:阿里云直播延迟自动配置
- 新增:阿里云RTS自动配置
- 新增:阿里云播流域名Referer白名单自动配置
- 新增:阿里云播流域名CORS跨域自动配置
- 新增:阿里云直播回调事件自动配置(包含推流回调|断流回调)
- 新增:阿里云录制回调自动配置
- 新增:`GoMeEdu`配置文件(`config.yaml`)一键下载
- 修复:全文搜索默认值读取`http://localhost:7700`的BUG
- 修复:提交评论IP解析失败的bug
- 修复:系统第一次执行 `meedu:upgrade` 命令的时候会报错 migration 文件名重复
- 优化:系统根据配置的API地址决定是否使用`https`协议(此项更新解决代理部署下的URL生成协议为HTTP的问题)
- 优化:`CORS`跨域的缓存时间提升到15天
- 优化:`Redis`链接错误的信息提示
- 优化:移除`mobiledetect/mobiledetectlib`依赖包
- 优化:移除**七牛云**的支持
- 优化:系统处于维护中时抛出异常错误的友好返回
- 优化:移除`app.debug`的配置
- 优化:重命名网站名配置为`meedu.system.name`
- 优化:阿里云视频加密转码的状态判断
- 优化:iOS的IAP支付订单结果校验

### `interface-h5-uniapp`

- 新增:直播`1080p`和`720p`清晰度切换
- 新增:视频播放的错误信息复制提示
- 修复:学习路径列表的分类切换之后所选择分类并没有高亮的Bug(微信小程序场景)
- 修复:腾讯云播放器的`hls.js`依赖加载的bug
- 优化:直播间聊天消息翻页的交互
- 优化:录播课附件下载
- 优化:移除顶部栏的标题

### `interface-pc`

- 新增:视频播放的错误信息复制提示
- 修复:注册短信用的是手机号登录的模板
- 优化:录播课附件下载

### `interface-pc-nextjs`

- 新增:视频播放的错误信息复制提示
- 修复:注册短信用的是手机号登录的模板
- 优化:录播课附件下载

### `interface-admin`

- 新增:直播的`GoMeEdu`配置(`config.yaml`)一键下载
- 新增:运行日志下载
- 修复:运行日志行内容过多导致页面溢出
- 修复:token过期跳转到登录界面的逻辑
- 优化:阿里云视频加密状态查询
- 优化:证书二维码关联课程和试卷的交互配置

### `interface-teacher-vue2`

- 新增:直播前预检查项目
- 修复:`pnpm`运行和构建报错

### `go-meedu`

- 新增:`cors`跨域缓存`15`天
